<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>적립 선택 - 누리카페</title>
    <link rel="stylesheet" href="../../assets/css/global.css">
    <link rel="stylesheet" href="../../assets/css/styleguide.css">
    <link rel="stylesheet" href="../../components/navigation/tab-navigation.css">
    <link rel="stylesheet" href="../../components/buttons/nav-buttons.css">
    <link rel="stylesheet" href="../../components/modals/barcode-modal.css">
    <link rel="stylesheet" href="../../components/modals/number-modal.css">
    <link rel="stylesheet" href="../discount/discount.css">
    <link rel="stylesheet" href="point.css">
</head>
<body>
    <div class="screen">
        <!-- 재사용 가능한 탭 네비게이션 컴포넌트 -->
        <div id="navigation-container"></div>

        <!-- 네비게이션 버튼 컨테이너 -->
        <div class="nav-buttons"></div>

        <!-- 메인 컨텐츠 -->
        <main class="main-content">
            <!-- 일반 적립 섹션 -->
            <section class="general-discount">
                <h2 class="section-title">일반 적립</h2>
                <div class="discount-methods">
                    <button class="discount-method" data-method="number">
                        <div class="method-icon">
                            <img src="../../assets/images/discount-number.png" alt="번호 조회" />
                        </div>
                        <span class="method-text">번호 조회</span>
                    </button>
                    
                    <button class="discount-method" data-method="barcode">
                        <div class="method-icon">
                            <img src="../../assets/images/discount-barcode.png" alt="바코드 조회" />
                        </div>
                        <span class="method-text">바코드 조회</span>
                    </button>
                </div>
            </section>


        </main>

        <!-- 하단 패널은 BottomPanel 컴포넌트로 동적 생성됩니다 -->
    </div>

    <!-- 바코드 모달 컴포넌트를 동적으로 로드 -->

    <!-- 번호 조회 모달 컴포넌트를 동적으로 로드 -->

    <!-- 컴포넌트 로드 -->
    <script src="../../components/navigation/tab-navigation.js"></script>
    <script src="../../components/buttons/nav-buttons.js"></script>
    <script src="../../components/help/help-system.js"></script>
    <script src="../../components/modals/barcode-modal.js"></script>
    <script src="../../components/panels/bottom-panel.js"></script>
    <script src="point.js"></script>
    
    <script>
        // 탭 네비게이션 초기화
        document.addEventListener('DOMContentLoaded', function() {
            const tabNav = new TabNavigation({
                container: document.getElementById('navigation-container'),
                activeTab: 'point' // 적립 탭 활성화
            });
        });

        // NavigationButtons 컴포넌트 초기화
        const navButtons = NavigationButtons.createWithTitle('적립 하시겠어요?', {
            onBackClick: () => {
                window.location.href = '../discount/discount.html';
            },
            onHomeClick: () => {
                // 모든 데이터 정리
                localStorage.removeItem('selectedMenuItems');
                localStorage.removeItem('completedCoffees');
                localStorage.removeItem('finalOrder');
                window.location.href = '../../../index.html';
            }
        });

        function requestHelp() {
            // PointPage 인스턴스의 requestHelp 메서드 호출
            if (pointPageInstance) {
                pointPageInstance.requestHelp();
            }
        }

        function proceedToNext() {
            alert('다음 단계로 이동합니다. (추후 구현 예정)');
        }
    </script>
</body>
</html> 